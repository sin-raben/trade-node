# Структура данных серверной (клиентской) части;
## Структура информации о товаре
### Струтура файла `tov.json`
- `id` - идентификатор товара
- `name` - наименование товара
- `prn` - наименование для печати
- `info` - описание
- `img` - изображение товара
- `krat` - кратность (минимальная отгрузка возможно в прайс???)
- `service` - признак услуги
- `producer` - производитель
- `nds` - ставка НДС
- `bed` - базовая единица
- `atime` - время создания товара
- `mtime` - время изменения товара
(услуга, номерГТД, страна происхождения, производитель, статья затрат, ОсновнаяСпецификацияНоменклатуры, Импортер, КодТНВЭД)


##### Структура типов информации о товаре `itemsGrupType`
перечисленны все группы, категории, подкатегории
- `id` - идентификатор типа информации о товаре
- `name` - наименование типа информации о товаре
- `atime` - время создания типа информации о товаре
- `mtime` - время изменения типа информации о товаре

##### Структура информации о товаре `itemsGrup`
****************группы, атрибуты, характеристики, свойства, .... выбрать общее название для групп, категорий, подкатегорий и т.д.

- `items` - товар
- `type` - тип спойства
- `value` - значение
- `atime` - время создания  информации о товаре
- `mtime` - время изменения  информации о товаре


### Набор упаковок


### Струтура файла  `ed.json`
- `ed` - наименование единицы (шт,кг)
- `mera` - тип измеряемой величины (по мне не нужно)
- `vesnet` - вес нетто
- `vesbrut` - вес брутто
- `length` - длинна
- `width`  - ширина
- `height` - высота
- `v` - объем
- `k` - коэффициент (кол-во базовых единиц в структуре)
- `okei` - код ОКЕИ
- `ean` - штрих-код
- `atime` - время создания товара
- `mtime` - время изменения информации о товаре

## Структура цен
Цены представлены в виде трех связных таблиц
- Группы прайс-листов, в виде файла `gprice.json`
- Прайс-листы, в виде файла `price.json`
- Цены по прайс-листу, в виде файла `ngc.json`


### Струтура файла `pricelist.json` (прайс-листы)
- `id` - идентификатор прайс-листа
- `name` - наименование
- `info` - описание
- `type` - признак группового прайс-листа
- `d0` - дата начала действия прайс-листа
- `d1` - дата окончания действия прайс-листа
- `atime` - время создания
- `mtime` - время изменения


### Структура `pricelist_link` (связь обычных и групповых прайс-листов )
- `parent` - ссылка на родителя
- `child` - ссылка на потомка
- `sort` - приоритет
- `atime` - время создания
- `mtime` - время изменения


### Струтура файла `ngc.json` (Цены по прайс-листу)
- `idPrice` - идентификатор прайс-листа
- `idTov` - идентификатор товара
- `d0` - дата начала действия цены
- `d1` - дата окончания действия цены
- `opimCn` - цена по-умолчанию в данном прайсе
- `minCn` - минимально допустимая цена в данном прайсе
- `maxCn` - максимально допустимая цена в данном прайсе
- `atime` - время создания
- `mtime` - время изменения

## Структура остатков
Остатки представлены в виде трех связных таблиц
- Группы складов, в виде файла `gskl.json`
- Склады, в виде файла `skl.json`
- Остатки по складу, в виде файла `ost.json`

### Струтура файла `gskl.json` (Группы складов)
- `id` - идентификатор группы складов
- `name` - наименование
- `info` - описание (адрес)
- `items` - ссылка на склады входящие в этот групповой склад (все элементы в порядке приоритета) ~~возможно необходимо вынести в отдельный файл~~
- `atime` - время создания
- `mtime` - время изменения

### Струтура файла `skl.json` (Склады)
- `id` - идентификатор склада
- `name` - наименование
- `info` - описание
- `atime` - время создания
- `mtime` - время изменения

### Струтура файла `ost.json` (Остатки по складу)
- `idSkl` - идентификатор склада
- `idTov` - идентификатор товара
- `ost` - остатки актуальные
- `rez` - зарезервировано всего на текущий момент (?????)
- `atime` - время создания
- `mtime` - время изменения

Документ резерва связан с заявкой/накладной для обратного учета?


## Структура соглашений
Соглашения - дополнительная сущность, позволяющая связывать склады/прайс-листы/организации и разделять учет по документам ~~**переписать это предложение**~~

### Струтура файла `sogl.json` (соглашения)
- `org` - идентификатор организации
- `id` - идентификатор соглашения
- `name` - наименование
- `info` - описание
- `gskl` - массив ключей допустимых групп складов
- `gprice` - массив ключей допустимых групп прайс-листов
- `kon` - массив ключей точек доставки для которых действует соглашение
- `d0` - дата начала действия соглашения
- `d1` - дата окончания действия соглашения
- `atime` - время создания
- `mtime` - время изменения

# Структура клиентов
Структура клиентов должна быть представлена составными клиентами (ЮрЛицоми, включающим в себя все точки доставки) и непосредственно точками доставки. Но это потом.

## Струтура `kon.json` (Контрагенты)
- `id` - идентификатор контрагента
- `type` - Юр. лицо, ИП, Физ. лицо, Иностранное юр лицо, Обособленное подразделение
- `head` - Головной контрагент
- `name` - наименование
- `prn` - наименование для печати
- `info` - описание
- `inn`- ИНН
- `kpp` - КПП
- `okved` - ОКВЕД
- `ogrn` - ОГРН
- `client` - Клиент (0, 1)
- `supplier` - Поставщик (0, 1)
- `carrier` - Перевозчик (0, 1)
- `user` - Кто изменял
- `atime` - время создания
- `mtime` - время изменения

## Струтура `point.json` (Партнеры) (Точки Доставки)
- `id` - идентификатор точки доставки
- `name` - наименование
- `prn` - наименование для печати
- `info` - описание
- `client` - Клиент (0, 1)**********
- `supplier` - Поставщик (0, 1)*********
- `carrier` - Перевозчик (0, 1)***********
- `user` - Кто изменял
- `atime` - время создания
- `mtime` - время изменения

## Струтура `konpoint.json` (Связи Контрагентов и Точек доставки)
- `org` - идентификатор организации
- `parent` - идентификатор контрагента
- `child` - идентификатор точки доставки
- `active` - состояние
- `user` - Кто изменял
- `atime` - время создания
- `mtime` - время изменения

## Струтура `adr.json` (Структура адресов)
- `id` - идентификатор записи
- `parent` - идентификатор структуры
- `subid` - идентификатор элемента (контрагент, точка доставки)
- `type` - тип элемента (юридический, фактический)
- `postindex` - почтовый индекс
- `str` - строковое представление адреса
- `fias` - код ФИАС
- `kladr` -код КЛАДР
- `dom` - дом
- `coord` - координаты
- `qc_geo` - подтвержденность координат
- `info` - примечание
- `user` - Кто изменял
- `atime` - время создания
- `mtime` - время изменения


## Струтура `konpoint.json` (Связи Контрагентов и Точек доставки)
- `org` - идентификатор организации
- `idUser` - идентификатор Торгового представителя
- `idPoint` - идентификатор точки доставки
- `d0` - дата начала действия связи
- `d1` - дата окончания действия связи
- `user` - Кто изменял
- `atime` - время создания
- `mtime` - время изменения

## Структура сеансов
### Струтура файла `users.json` (Пользователи)
- `login` - идентификатор соглашения
- `pass` - пароль пользователя;
- `name` - Наименование ползователя;
- `role` - наименование должноти;
- `user` - Кто изменял
- `atime` - время создания
- `mtime` - время изменения

### Струтура файла `token.json` (Сеансы)
- `idToken` - идетрификатор токена
- `keyToken` - секретный ключ токена
- `idUser` - логин/инентификатор пользователя которому разрешено общатся через этот терминал
- `typeToken` - тип устройства используемого для текущего соединения
- `syncTime` - время последней успешной синхронизации
- `atime` - время создания
- `mtime` - время изменения





## Струтура `who_link.json` (Связь торговых агентов и точек доставки)

### Таблицы соответствий (???)

## Сруктура документа
Докумет представляет собой 2 связных таблицы `zn.json` и `zc.json`.


### Струтура файла `zn.json`
- `prfToc` - префикс ключа соответствует токену;
- `id` - ключ документа в рамках текущего сеанса (токена)
- `status` - текуший статус документа
- `DateDoc` - дата доставки
- `Kon` - контрагент(точка доставки)
- `sogl` - соглашение по котору осуществяется взаимодествие в этом документе
- `gskl` - группа складов с которых будет осуществляется отгрузка
- `gprice` - груповой прайс по которому будет происходить ценообразование
- `sum` - итоговая сумма
- `user` - торговый агент осуществляющий отрузку
- `org` - организация от имени которой осуществляется торговая деятельность
- `atime` - время создания документа
- `mtime` - время изменения документа

### Струтура файла `zс.json`
- `prfToc` - префикс ключа соответствует токену
- `idDoc` - ключ документа в рамках текущего сеанса (токена)
- `id` - ключ строки в текущем документе
- `tov` - информация о текущем товаре (наименование, кратность, изображение, базовая и основная единицы измерения)
- `kol` - количество товара на отгрузку в базовой единице измерения
- `cn` - цена на данную позицию по документу
- `sum` - итоговая сумма
- `atime` - время создания строки
- `mtime` - время изменения строки

## Структура маршрутов
Это потом, как и учет долгов и прием платежей



## Ход передачи
передача информации осуществляется посредством следующего jsonа

```json
{
    "head": "string",
    "body": {}
};
```
