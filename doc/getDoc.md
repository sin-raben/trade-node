# Структура запроса документов `doc`

Данный запрос передаётся клиентом серверу и имеет следующую структуру.

```json
{
    "head":"getDocs",
    "body": {
        "docs" : "all",
        "docItems" : "all",
        "":
    }
}
```

```json
"head":"getDocs",
"body": {
    "docs" : [{
        "d_id": 1,
        "d_num": "ГРС0002",
        "d_date": 100500,
        "d_delivery_date": 100600,
        "ca_id": 1,
        "pd_id": 2,
        "org_id": 2,
        "who_id": 10,
        "d_pri": "",
        "d_items": [
            {
                "d_id": 1,
                "i_id": 21,
                "iut_id": 200,
                "kol": 100,
                "price": 1000,
                "sr_id": 1,
                "pri": ""
            }
        ]
        }],
        "pays": [{
            "d_id": 1,
            "d_num": "ГРС0002",
            "org_id": 2,
            "who_id": 10,
            "type": "по кассе/по банку",
            "d_date": 100500,
            "ca_id": 1,
            "pd_id": 2,
            "pri": "",
            "sum": 100000
        }]
}
```
#### Структура документа `indoc`(Приходная накадная)

- `d_id` - идентификатор документа, тип - число
- `d_type` - тип документа
- `d_num` - номер документа в системе, тип - строка
- `d_date` - дата документа, тип - дата
- `d_delivery_date` - дата доставки, тип - дата
- `org_id` - ссылка на огранизацию, тип - число
- `who_id` - ссылка на сотрудника (торгового агента) создавшего документ, тип - число
- `ca_id` - ссылка на контрагента, тип - число
- `pd_id` - ссылка на точку доставки, тип - число
- `t_id` - ссылка на соглашение, тип - число
- `dg_id` - ссылка на договор, тип - число
- `d_bnds ` - признак включения НДС в цену
- `d_sum` - сумма документа, тип - число (--)
- `d_innumd` - входящий номер документа, __(П)__
- `d_indated` - входящая дата документа, __(П)__
- `d_innumsf` - входящий номер счета-фактуры, __(П)__
- `d_indatesf` - входящая дата счета-фактуры, __(П)__
- `d_pri` - примечание, тип - строка
- `d_mtime` - время изменения

#### Структура документа `outdoc`(Расходная накадная)

- `d_id` - идентификатор документа, тип - число
- `d_type` - тип документа
- `d_num` - номер документа в системе, тип - строка
- `d_date` - дата документа, тип - дата
- `d_delivery_date` - дата доставки, тип - дата
- `org_id` - ссылка на огранизацию, тип - число
- `who_id` - ссылка на сотрудника (торгового агента) создавшего документ, тип - число
- `ca_id` - ссылка на контрагента, тип - число
- `pd_id` - ссылка на точку доставки, тип - число
- `t_id` - ссылка на соглашение, тип - число
- `dg_id` - ссылка на договор, тип - число
- `d_bnds ` - признак включения НДС в цену
- `d_sum` - сумма документа, тип - число (--)
- `d_pri` - примечание, тип - строка
- `d_mtime` - время изменения


##### табличная часть (товары/услуги)
- ` ` - идентификатор записи, тип - число
- ` ` - вид документа(прих/расх/возврат от клиента/возврат поставщику/между складами)
- `d_id` - ссылка на документ, тип - число
- ` ` - ссылка на склад
- ` ` - ссылка на товар, тип - число
- ` ` - содержание, описание услуги
- ` ` - единица измерения, тип - число
- ` ` - количество в базовых единицах, тип - число __(?)__
- ` ` - количество в текущих единицах, тип - число
- ` ` - цена за единицу, тип - число
- ` ` - ставка НДС
- ` ` - сумма НДС
- ` ` - сумма
- `sumas` - сумма автоматической скидки
- ` ` - процент автоматической скидки
- `sumrs` - сумма ручной скидки
- ` ` - процент ручной скидки
- ` ` - ссылка на акцию (?)
- ` ` - номер ГТД
- ` ` - страна происхождения
- ` ` - примечание, тип - строка

##### табличная часть оборудования (товары/услуги)
- ` ` - идентификатор записи, тип - число
- ` ` - ссылка на документ, тип - число
- ` ` - ссылка на строку в номенклатуре, тип - число
- ` ` - описание оборудования
- ` ` - заводской идентификатор
- ` ` - номер оборудования
- ` ` - количество

##### Связь документов
- `basis` - ссылка на документ основание (--?)




##### табличная часть (оборудование)
- ` ` - идентификатор записи, тип - число
- `d_id` - ссылка на документ, тип - число
- ` ` - наименование оборудования (Номенклатура) __(?)__
- ` ` - описание оборудования
- ` ` - номер оборудования
- ` ` - количество
- ` ` - цена
- ` ` - ставка НДС
- ` ` - сумма НДС
- ` ` - сумма
- ` ` - примечание, тип - строка


#### денежный документ
- ` ` - идентификатор записи, тип - число
- `d_id` - ссылка на документ, тип - число
- `d_type` - тип документа
- `org_id` - ссылка на огранизацию, тип - число
- `d_date` - дата документа, тип - дата
- ` ` - ссылка на соглашение, тип - число __(?)__
- ` ` - ссылка на договор, тип - число
- `who_id` - ссылка на сотрудника (торгового агента) создавшего документ, тип - число
- `ca_id` - ссылка на контрагента, тип - число

- ` ` - наименование оборудования (Номенклатура) __(?)__

##### табличная часть
детализация и смысловая нагрузка денежной операции (перечень)
- ` ` - идентификатор записи, тип - число
- `d_id` - ссылка на документ, тип - число
- ` ` - договор
- 1
- 11
- 1
- 1


##### типы документов
ЗаявкаНаОтгрузку
Приходная накладная
Расходная накадная
Возвратная накладная от клиента
Возвратная накладная от точки
Акционная накладная (?)
Перемещение между складами
Ревизия

ПКО
РКО
Авансовый
Списание с расчетного счета
Поступление на расчетный счет

Движения товара
Движения денег


накладная (товары, услуги, тара, оборудование) (приходная, расходная, 2 возвратных)
перемещение
оплата
отгрузка



` ` - тип документа
