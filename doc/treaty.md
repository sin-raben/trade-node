# Структура соглашений

Соглашения - дополнительная сущность, позволяющая связывать склады/прайс-листы/организации и разделять учет по документам ~~**переписать это предложение**~~ отвечает за доступные клиенту: прайс-листы (цены), склады, виды оплаты, резервы, определяет

## Струтура файла `treaty.json` (соглашения) (Организация, Прайс-листы, Отсрочка, Склады)

- `id` - идентификатор соглашения
- `exid` - внешний ключ
- `name` - наименование
- `info` - описание
- `org` - идентификатор организации
- `delay` - срок отсрочки
- `calendar` - календарные/рабочие дни
- `d0` - дата начала действия соглашения
- `d1` - дата окончания действия соглашения
- `atime` - время создания
- `mtime` - время изменения

<!-- ### Структура (связи оплаты и соглашения) - `id` - идентификатор записи - `id` - идентификатор соглашения - ` ` - вариант оплаты - ` ` - форма оплаты - ` ` - порог процент оплаты - `mtime` - время изменения -->

## Струтура файла `treaty_skl.json` (соглашения) связь составного прайса

- `id` - идентификатор соглашения
- `skl` - ключ склада
- `mtime` - время изменения

## Струтура файла `treaty_point.json` (соглашения) связь составного прайса

- `id` - идентификатор соглашения
- `point` - ключ точки доставки
- `mtime` - время изменения

## Струтура файла `treaty_rez.json` (соглашения) связь составного прайса

- `id` - идентификатор соглашения
- `99` - идентификатор доступного для соглашения резерва
- `atime` - время создания
- `mtime` - время изменения

# Резерв

- `ш` - идентификатор резерва
- `ш` - наименование резерва
- `ш` - описание цели резервирования
- `ш` - дата начала действия
- `ш` - дата окончания действия (если не указана, то бессрочно)

# значения резервов

- `ш` - идентификатор записи
- `rz_id` - идентификатор резерва
- `skl_id` - идентификатор склада
- `tov_id` - идентификатор товара
- `ш` - возможно партия, если не указана то весь товар
- `ш` - общий резерв
- `ш` - доступный резерв (по мере отгрузки товара значение уменьшается)

```json
{
    "head":"setTreaty",
    "body": {
        "treaty":[
            {
                "id": 1,
                "exid": "",
                "name": "",
                "info": "",
                "org": 1,
                "delay": 25,
                "calendar": 1,
                "сумма до блокировки":,
                "d0": 100500,
                "d1": 100600,
                "points": [{
						"exid": ""
                    }],
                "skl": [{

                    }]
            }
        ],
    }
}
```
