# Структура запроса номенклатуры `getItems`

**Предварительная авторизация обязательна.**

Данный запрос передаётся клиентом серверу и имеет следующую структуру.

```json
{
    "head":"getItems",
    "body": {
        "items": "all",
        "itemGroupTypes": "all",
        "itemGroups": "all",
        "linkItemGroups": "all",
        "itemUnitTypes": "all",
        "itemUnits": "all"
    }
}
```

wsm("getItems",{"items": "all","itemGroupTypes": "all","itemGroups": "all","linkItemGroups": "all","itemUnitTypes": "all","itemUnits": "all"});

Ответ сервера клиенту представляет собой JSON:

```json
{
    "head":"getItems",
    "body": {
        "items": [
            {
                "i_id": 1,
                "i_exid": "#L1",
                "i_name": "А.АНАНАСЫ КРУЖ ГП.565Г",
                "i_prn": "А.АНАНАСЫ КРУЖ ГП.565Г",
                "i_info": "",
                "i_img": "",
                "i_service": false,
                "i_producer": null,
                "int_id": 1,
                "i_mtime": "2016-08-10T08:56:07.985Z",
                "i_mtime_i": 1470830167985.34
            },
        ],
        "itemsGroupType": [
            {
                "igt_id": 1,
                "igt_exid": "A->CAT",
                "igt_agent": true,
                "igt_name": "Категория",
                "igt_mtime": "2016-08-10T08:56:52.924Z",
                "igt_mtime_i": 1470830212924.76
            }
        ],
        "itemsGroup": [
            {
                "i_id": 85,
                "igt_id": 2,
                "ig_value": "АЙСБЕРГ",
                "ig_mtime": "2016-08-10T08:57:24.736Z",
                "ig_mtime_i": 1470830244736.71
            }
        ],
        "itemsUnitType": [
            {
                "iut_id": 2,
                "iut_exid": "кор",
                "iut_name": "кор",
                "imt_id": 5,
                "iut_okei": 102,
                "iut_mtime": "2016-08-10T08:58:39.796Z",
                "iut_mtime_i": 1470830319796.75
            },
        ],
        "itemsUnit": [
            {
                "i_id": 1,
                "iut_id": 2,
                "iu_ean": "",
                "iu_krat": 0,
                "iu_num": 0,
                "iu_denum": 1,
                "iu_gros": 0,
                "iu_net": 0,
                "iu_length": 0,
                "iu_width": 0,
                "iu_height": 0,
                "iu_area": 0,
                "iu_volume": "0",
                "iu_agent": true,
                "iu_base": false,
                "iu_main": true,
                "iu_mtime": "2016-08-10T09:00:36.602Z",
                "iu_mtime_i": 1470830436602.16
            }
        ]
    }
}
```


где поля имеют следующие значения:

## Структура массива объектов содержащих основную информацию о товаре/услуге `items`

- `i_id` - идентификатор товара (тип: число)
- `i_exid` - внешний код, используется для синхронизации, _в посылаемом на мобильное приложение ответе - необязателен_ (тип: строка)
- `i_name` - наименование товара (тип: строка)
- `i_prn` - наименование для печати (тип: строка)
- `i_info` - описание (тип: строка)
- `i_img` - изображение товара (тип: строка)
- `i_service` - признак услуги (тип: булево)
- `i_producer` - производитель (тип: число)
- `int_id` - ставка НДС (тип: число, ссылка на талицу ставок)
- `i_new` - признак создания
- `i_active` - признак существования
- `i_mtime` - время изменения товара _в посылаемом на мобильное приложение ответе - необязателен_ (тип: строка)
- `i_mtime_i` - время изменения товара _в посылаемом на мобильное приложение ответе - необязателен_ (тип: число)

где коды ставок НДС соответствуют следующим ставкам:
1. НДС: 0%
2. НДС: 10%
3. НДС: 18%
4. Без НДС

## Структура массива типов групп товаров `itemsGroupType`

перечисленны все группы, категории, подкатегории

- `igt_id` - идентификатор типа группы товаров (тип: число)
- `igt_exid` - внешний код, используется для синхронизации, _в посылаемом на мобильное приложение ответе - необязателен_ (тип: строка)
- `igt_agent` - признак отображения в меню торгового представителя (тип: булево)
- `igt_name` - наименование типа группы товаров (тип: строка)
- `igt_new` - признак создания
- `igt_active` - признак существования
- `igt_mtime` - время изменения типа информации о товаре _в посылаемом на мобильное приложение ответе - необязателен_ (тип: строка)
- `igt_mtime_i` - время изменения типа информации о товаре _в посылаемом на мобильное приложение ответе - необязателен_ (тип: число)

## Структура массива групп товаров `itemsGroup`

- `ig_id` - идентификатор записи (тип: число)
- `igt_id` - тип спойства (тип: число)
- `ig_value` - значение (тип: строка)
- `ig_new` - признак создания
- `ig_active` - признак существования
- `ig_mtime` - время изменения информации о товаре (тип: число)
- `ig_mtime_i` - время изменения информации о товаре (тип: число)

## Структура массива групп товаров `linkItemsGroup`
- `lig_id` - идентификатор записи (тип: число)
- `i_id` - товар (тип: число)
- `ig_id` - идентификатор значения
- `igt_id` - тип спойства (тип: число) (для удобной группировки значений)
- `lig_new` - признак создания
- `lig_active` - признак существования
- `lig_mtime` - время изменения информации о товаре (тип: число)
- `lig_mtime_i` - время изменения информации о товаре (тип: число)

## Структура массива типов единиц измерения `itemsUnitType`

- `iut_id` - идентификатор типа (тип: число)
- `iut_exid` - внешний код, используется для синхронизации, _в посылаемом на мобильное приложение ответе - необязателен_ (тип: строка)
- `iut_name` - наименование единицы измерения (тип: строка)
- `imt_id` - код метрики единицы измерения (типЖ число)
- `iut_okei` - код ОКЕИ (тип: число)
- `iut_new` - признак создания
- `iut_active` - признак существования
- `iut_mtime` - время изменения информации _в посылаемом на мобильное приложение ответе - необязателен_(тип: строка)
- `iut_mtime_i` - время изменения информации _в посылаемом на мобильное приложение ответе - необязателен_(тип: число)

где коды метрик единиц измерения соответствуют следующим значениям:

1. мера длинны
2. мера площади
3. мера объёма
4. мера веса
5. мера количества


## Структура массива значений единиц измерения `itemsUnit`

- `i_id` - идентификатор товара (тип: число)
- `iut_id` - единица измерения (тип: число)
- `iu_ean` - штрих-код (тип: строка)
- `iu_krat` - кратность, минимальная величина кратно которой может быть отпущен товар (число)
- `iu_num` - числитель коэффициента (тип: число)
- `iu_denum` - знаменатель коэффициента (тип: число)
- `iu_gros` - масса брутто (тип: число)
- `iu_net` - масса нетто (тип: число)
- `iu_length` - длина (тип: число)
- `iu_width` - ширина (тип: число)
- `iu_height` - высота (тип: число)
- `iu_area` - площадь (тип: число)
- `iu_volume` - объем (тип: число)
- `iu_agent` - признак отображения у торгового агента единицы измерения (тип: булево)
- `iu_base` - признак базовой единицы измерения (тип: булево)
- `iu_main` - признак основной (выбранной по-умолчанию) единицы измерения (тип: булево)
- `iu_mtime` - время изменения информации _в посылаемом на мобильное приложение ответе - необязателен_ (тип: строка)
- `iu_mtime_i` - время изменения информации _в посылаемом на мобильное приложение ответе - необязателен_ (тип: число)
