# Структура запроса номенклатуры `getCountragents`


Данный запрос передаётся клиентом серверу и имеет следующую структуру.

```json
{
    "head":"getCountragents",
    "body": {

    }
}
```




# Структура клиентов
Структура клиентов должна быть представлена составными клиентами (ЮрЛицоми, включающим в себя все точки доставки) и непосредственно точками доставки. Но это потом.

## Струтура `kon.json` (Контрагенты)
- `ca_id` - идентификатор контрагента
- `ca_type` - Юр. лицо, ИП, Физ. лицо, Иностранное юр лицо, Обособленное подразделение
- `ca_head` - Головной контрагент
- `ca_name` - наименование
- `ca_prn` - наименование для печати
- `ca_info` - описание
- `ca_inn`- ИНН
- `ca_kpp` - КПП
- `ca_okved` - ОКВЕД
- `ca_ogrn` - ОГРН
- `ca_adr` - ссылка на юридический адрес
- `ca_client` - Клиент (0, 1)
- `ca_supplier` - Поставщик (0, 1)
- `ca_carrier` - Перевозчик (0, 1)
- `ca_user` - Кто изменял
- `ca_mtime` - время изменения

## Струтура `delivery_point.json` (Партнеры) (Точки Доставки)
- `dp_id` - идентификатор точки доставки
- `dp_name` - наименование
- `dp_prn` - наименование для печати
- `dp_info` - описание
- `dp_adr` - ссылка на фактический адрес
- `dp_client` - Клиент (0, 1)**********
- `dp_supplier` - Поставщик (0, 1)*********
- `dp_carrier` - Перевозчик (0, 1)***********
- `dp_user` - Кто изменял
- `dp_mtime` - время изменения

## Струтура `konpoint.json` (Связи Контрагентов и Точек доставки)
- `cp_org` - идентификатор организации
- `cp_parent` - идентификатор контрагента
- `cp_child` - идентификатор точки доставки
- `cp_active` - состояние
- `cp_user` - Кто изменял
- `cp_mtime` - время изменения

## Струтура `adr.json` (Структура адресов)
- `adr_id` - идентификатор записи
- `adr_parent` - идентификатор структуры
- `adr_subid` - идентификатор элемента (контрагент, точка доставки)
- `adr_type` - тип элемента (юридический, фактический)
- `adr_postindex` - почтовый индекс
- `adr_str` - строковое представление адреса
- `adr_fias` - код ФИАС
- `adr_kladr` -код КЛАДР
- `adr_dom` - дом
- `adr_coord` - координаты
- `adr_qc_geo` - подтвержденность координат
- `adr_info` - примечание
- `adr_user` - Кто изменял
- `adr_atime` - время создания
- `adr_mtime` - время изменения



## Структура соглашений
Соглашения - дополнительная сущность, позволяющая связывать склады/прайс-листы/организации и разделять учет по документам ~~**переписать это предложение**~~

### Струтура файла `sogl.json` (соглашения)

- `id` - идентификатор соглашения
- `name` - наименование
- `info` - описание
- `org` - идентификатор организации
- ` ` - форма оплаты
- `d0` - дата начала действия соглашения
- `d1` - дата окончания действия соглашения
- `atime` - время создания
- `mtime` - время изменения

### Струтура файла `sogl_skl.json` (соглашения) связь составного прайса
- `id` - идентификатор соглашения
- `skl` - ключ склада
- `atime` - время создания
- `mtime` - время изменения

### Струтура файла `sogl_point.json` (соглашения) связь составного прайса
- `id` - идентификатор соглашения
- `point` - ключ точки доставки
- ` ` - срок отсрочки
- `atime` - время создания
- `mtime` - время изменения

### Струтура файла `sogl_rez.json` (соглашения) связь составного прайса
- `id` - идентификатор соглашения
- ` ` - идентификатор доступного для соглашения резерва
- `atime` - время создания
- `mtime` - время изменения

## Резерв
идентификатор резерва
наименование резерва
описание цели резервирования
дата начала действия
дата окончания действия (если не указана, то бессрочно)


## значения резервов
- `ш` - идентификатор записи
- `rz_id` - идентификатор резерва
- `skl_id` - идентификатор склада
- `tov_id` - идентификатор товара
- `ш` - возможно партия, если не указана то весь товар
- `ш` - общий резерв
- `ш` - доступный резерв (по мере отгрузки товара значение уменьшается)
