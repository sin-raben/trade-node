/*eslint no-console: 0, "quotes": [0, "single"], module: 0, globals:[0, "obj"]*/
/*eslint no-unused-vars: ["error", { "args": "none" }]*/
'use strict';
exports.fun = function (client, obj, db) {
	return new Promise(function (resolve, reject) {
		if (!(client.idToken)) {
			resolve({ "result": false });
			return;
		}
		try {
			db.query(`SELECT lc_coord, lc_token,lc_event, extract(epoch from lc_time)::integer as time 
					FROM  trade.log_coords as c ORDER BY time;`, obj).then((value) => {
					resolve(value);
				});
		} catch (err) { reject(err); }
	});
};